## 连接查询 之 外连接

## 外连接

**外连接**：`left\right join`，以某张表为主表，取出里面的所有记录，然后让主表中的每条记录都与另外一张表进行连接，不管能否匹配成功，其最终结果都会保留，匹配成功，则正确保留；匹配失败，则将另外一张表的字段都置为`NULL`.

 - **基本语法**：`左表 + left\right + join + 右表 + on + 左表.字段 = 右表.字段;`

其中，关键字`on`表示连接条件，两表中的条件字段有着相同的业务含义。在这里，以主表为依据，外连接分为两种，分别为：

 - `left join`：左外连接（左连接），以左表为主表；
 - `right join`：右外连接（右连接），以右表为主表。


```
# 将表 student 与 class 进行左连接
select s.*,c.id as c_id,c.grade as c_grade,room from student as s left join class as c on s.grade = c.grade;

-- 将表 student 与 class 进行右连接
select s.*,c.id as c_id,c.grade as c_grade,room from student as s right join class as c on s.grade = c.grade;
```

![left-right-join](https://github.com/guobinhit/mysql-tutorial/blob/master/images/join-query/left-right-join.png)

实际上，无论以那张表为主表，其外连接的结果（记录数量）都不会少于主表的记录总数。此外，虽然左连接与右连接有主表差异，但显示的结果都是：**左表的数据在左边，右表的数据在右边**。   